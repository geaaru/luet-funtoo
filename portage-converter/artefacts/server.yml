artefacts:
- tree: packages/atoms/server
  uses:
    disabled:
    - bindist
    - columnstore
    - debug
    - galera
    - innodb-snappy
    - jdbc
    - jemalloc
    - kerberos
    - latin1
    - libressl
    - mroonga
    - nios2
    - numa
    - odbc
    - oqgraph
    - profiling
    - selinux
    - sh
    - sphinx
    - sst-mariabackup
    - sst-rsync
    - static
    - systemtap
    - tcmalloc
    - test
    - yassl
    enabled:
    - backup
    - cracklib
    - extraengine
    - innodb-lz4
    - innodb-lzo
    - pam
    - perl
    - rocksdb
    - s3
    - server
    - xml
  packages:
  - dev-db/mariadb:10.5
- tree: packages/atoms/server
  mutations:
    buildtime_deps:
      packages:
        - category: dev-python
          name: pyyaml
        - category: dev-python
          name: psutil
        - category: dev-python
          name: cheetah3
        - category: dev-util
          name: scons
  uses:
    enabled:
      - python_targets_python3_7
      - shell
      - ssl
      - tools
    disabled:
      - debug
      - kerberos
      - libressl
      - lto
      - test
  packages:
    - dev-db/mongodb

- tree: packages/atoms/server
  uses:
    disabled:
    - examples
    - nios2
    - sh
    - test
  packages:
  - dev-perl/DBI
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - python_targets_python3_8
    - python_targets_python3_9
    - sh
    enabled:
    - python_targets_python3_7
  packages:
  - dev-python/cheetah3
- tree: packages/atoms/server
  uses:
    disabled:
    - debug
    - dhcp
    - eap
    - farp
    - gcrypt
    - ldap
    - mysql
    - nios2
    - pkcs11
    - selinux
    - sh
    - sqlite
    - strongswan_plugins_aesni
    - strongswan_plugins_blowfish
    - strongswan_plugins_ccm
    - strongswan_plugins_chapoly
    - strongswan_plugins_ctr
    - strongswan_plugins_forecast
    - strongswan_plugins_gcm
    - strongswan_plugins_ha
    - strongswan_plugins_ipseckey
    - strongswan_plugins_newhope
    - strongswan_plugins_ntru
    - strongswan_plugins_padlock
    - strongswan_plugins_rdrand
    - strongswan_plugins_save-keys
    - strongswan_plugins_unbound
    - strongswan_plugins_whitelist
    - systemd
    enabled:
    - caps
    - constraints
    - curl
    - gmp
    - networkmanager
    - non-root
    - openssl
    - pam
    - strongswan_plugins_led
    - strongswan_plugins_lookip
    - strongswan_plugins_systime-fix
    - strongswan_plugins_unity
    - strongswan_plugins_vici
  packages:
  - net-vpn/strongswan
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - sh
  packages:
  - dev-db/mysql-init-scripts
  - dev-perl/Net-Daemon
  - dev-perl/PlRPC
  - net-dialup/wvdial
  - net-proxy/cntlm
  - sys-apps/ethtool
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - sh
    - test
  packages:
  - dev-cpp/yaml-cpp
  - dev-perl/Devel-CheckLib
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - pud
    - sh
    enabled:
    - gtk
  packages:
  - net-misc/olsrd
- tree: packages/atoms/server
  uses:
    disabled:
    - doc
    - gssapi
    - libproxy
    - lz4
    - nios2
    - sh
    - smartcard
    - static-libs
    - stoken
    - test
    enabled:
    - gnutls
    - nls
  packages:
  - net-vpn/openconnect
- tree: packages/atoms/server
  mutations:
    buildtime_deps:
      packages:
        - category: seed
          name: macaroni-funtoo-race3
  uses:
    disabled:
    - nios2
    - sh
    - static-libs
    enabled:
    - python_targets_python2_7
    - python_targets_python3_7
  packages:
  - dev-libs/snowball-stemmer
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - sasl
    - sh
    enabled:
    - ssl
  packages:
  - app-admin/mongo-tools
- tree: packages/atoms/server
  uses:
    disabled:
    - examples
    - nios2
    - python_targets_pypy3
    - python_targets_python3_8
    - python_targets_python3_9
    - sh
    - test
    enabled:
    - libyaml
    - python_targets_python2_7
    - python_targets_python3_7
  packages:
  - dev-python/pyyaml
- tree: packages/atoms/server
  mutations:
    buildtime_deps:
      packages:
        - category: seed
          name: macaroni-funtoo-race3
  uses:
    disabled:
    - nios2
    - sh
    - static
  packages:
  - net-analyzer/traceroute
- tree: packages/atoms/server
  uses:
    disabled:
    - caps
    - debug
    - libressl
    - nios2
    - ntp-cron
    - parse-clocks
    - samba
    - selinux
    - sh
    - snmp
    - vim-syntax
    enabled:
    - ipv6
    - openntpd
    - readline
    - ssl
    - threads
    - zeroconf
  packages:
  - net-misc/ntp
- tree: packages/atoms/server
  uses:
    disabled:
    - debug
    - hwloc
    - lm-sensors
    - nios2
    - openvz
    - sh
    - vserver
    enabled:
    - unicode
  packages:
  - sys-process/htop
- tree: packages/atoms/server
  uses:
    disabled:
    - doc
    - libressl
    - nios2
    - selinux
    - sh
  packages:
  - app-crypt/trousers
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - sh
    enabled:
    - python_targets_python2_7
  packages:
  - dev-python/markdown-compat
  - dev-util/scons-compat
- tree: packages/atoms/server
  uses:
    disabled:
    - libressl
    - nios2
    - selinux
    - sh
  packages:
  - net-misc/openntpd
- tree: packages/atoms/server
  uses:
    disabled:
    - libressl
    - nios2
    - sh
  packages:
  - net-vpn/openfortivpn
- tree: packages/atoms/server
  uses:
    disabled:
    - down-root
    - examples
    - inotify
    - iproute2
    - libressl
    - lz4
    - mbedtls
    - nios2
    - pkcs11
    - selinux
    - sh
    - static
    - systemd
    - test
    enabled:
    - lzo
    - pam
    - plugins
    - ssl
  packages:
  - net-vpn/openvpn
- tree: packages/atoms/server
  uses:
    disabled:
    - cpp_test
    - debug
    - full
    - google_perftools
    - libatomic
    - libressl
    - luajit
    - nginx_modules_dynamic_geoip
    - nginx_modules_dynamic_image_filter
    - nginx_modules_dynamic_mail
    - nginx_modules_dynamic_perl
    - nginx_modules_dynamic_stream_geoip
    - nginx_modules_dynamic_xslt
    - nginx_modules_external_accept_language
    - nginx_modules_external_ajp
    - nginx_modules_external_auth_pam
    - nginx_modules_external_brotli
    - nginx_modules_external_cache_purge
    - nginx_modules_external_concat
    - nginx_modules_external_dav_ext
    - nginx_modules_external_echo
    - nginx_modules_external_encrypted_session
    - nginx_modules_external_fancyindex
    - nginx_modules_external_headers_more
    - nginx_modules_external_lua
    - nginx_modules_external_metrics
    - nginx_modules_external_modsecurity
    - nginx_modules_external_mogilefs
    - nginx_modules_external_naxsi
    - nginx_modules_external_ndk
    - nginx_modules_external_push
    - nginx_modules_external_push_stream
    - nginx_modules_external_rtmp
    - nginx_modules_external_slowfs_cache
    - nginx_modules_external_sticky
    - nginx_modules_external_upload_progress
    - nginx_modules_external_upstream_check
    - nginx_modules_http_addition
    - nginx_modules_http_auth_request
    - nginx_modules_http_dav
    - nginx_modules_http_degradation
    - nginx_modules_http_flv
    - nginx_modules_http_geoip
    - nginx_modules_http_gunzip
    - nginx_modules_http_gzip_static
    - nginx_modules_http_image_filter
    - nginx_modules_http_mp4
    - nginx_modules_http_perl
    - nginx_modules_http_random_index
    - nginx_modules_http_realip
    - nginx_modules_http_secure_link
    - nginx_modules_http_ssl
    - nginx_modules_http_stub_status
    - nginx_modules_http_sub
    - nginx_modules_http_xslt
    - nginx_modules_mail_imap
    - nginx_modules_mail_pop3
    - nginx_modules_mail_smtp
    - nginx_modules_stream_geoip
    - nginx_modules_stream_realip
    - nginx_modules_stream_ssl_preread
    - nios2
    - pcre-jit
    - sh
    - threads
    - vim-syntax
    enabled:
    - aio
    - http
    - http-cache
    - http2
    - ipv6
    - nginx_modules_dynamic_stream
    - nginx_modules_http_access
    - nginx_modules_http_auth_basic
    - nginx_modules_http_autoindex
    - nginx_modules_http_browser
    - nginx_modules_http_charset
    - nginx_modules_http_empty_gif
    - nginx_modules_http_fastcgi
    - nginx_modules_http_geo
    - nginx_modules_http_grpc
    - nginx_modules_http_gzip
    - nginx_modules_http_limit_conn
    - nginx_modules_http_limit_req
    - nginx_modules_http_map
    - nginx_modules_http_memcached
    - nginx_modules_http_mirror
    - nginx_modules_http_proxy
    - nginx_modules_http_referer
    - nginx_modules_http_rewrite
    - nginx_modules_http_scgi
    - nginx_modules_http_split_clients
    - nginx_modules_http_ssi
    - nginx_modules_http_upstream_hash
    - nginx_modules_http_upstream_ip_hash
    - nginx_modules_http_upstream_keepalive
    - nginx_modules_http_upstream_least_conn
    - nginx_modules_http_upstream_zone
    - nginx_modules_http_userid
    - nginx_modules_http_uwsgi
    - nginx_modules_stream_access
    - nginx_modules_stream_geo
    - nginx_modules_stream_limit_conn
    - nginx_modules_stream_map
    - nginx_modules_stream_return
    - nginx_modules_stream_split_clients
    - nginx_modules_stream_upstream_hash
    - nginx_modules_stream_upstream_least_conn
    - nginx_modules_stream_upstream_zone
    - pcre
    - poll
    - rtmp
    - select
    - ssl
    - stream
  packages:
  - www-servers/nginx
- tree: packages/atoms/server
  mutations:
    uses:
      - python_single_target_python3_7
  uses:
    disabled:
    - debug
    - doc
    - kerberos
    - ldap
    - llvm
    - nios2
    - perl
    - python_single_target_python3_8
    - python_single_target_python3_9
    - python_targets_python3_8
    - python_targets_python3_9
    - selinux
    - sh
    - static-libs
    - systemd
    - tcl
    - threads
    - uuid
    enabled:
    - icu
    - nls
    - pam
    - python
    - python_single_target_python3_7
    - python_targets_python3_7
    - readline
    - server
    - ssl
    - xml
    - zlib
  packages:
  - dev-db/postgresql:13
- tree: packages/atoms/server
  uses:
    disabled:
    - mariadb
    - nios2
    - sh
    - test
    enabled:
    - mysql
    - ssl
  packages:
  - dev-perl/DBD-mysql
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - python_targets_python3_8
    - python_targets_python3_9
    - sh
    enabled:
    - python_targets_python2_7
    - python_targets_python3_7
  packages:
  - dev-util/scons
- tree: packages/atoms/server
  uses:
    disabled:
    - modules
    - nios2
    - sh
  packages:
  - net-firewall/ipset
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - python_targets_pypy3
    - python_targets_python3_8
    - python_targets_python3_9
    - sh
    - test
    enabled:
    - python_targets_python2_7
    - python_targets_python3_7
  packages:
  - dev-python/psutil
- tree: packages/atoms/server
  uses:
    disabled:
    - libressl
    - nios2
    - samba
    - sh
    - smi
    - suid
    - test
    enabled:
    - drop-root
    - ssl
  packages:
  - net-analyzer/tcpdump
- tree: packages/atoms/server
  uses:
    disabled:
    - caps
    - libressl
    - lzma
    - nios2
    - scrypt
    - seccomp
    - selinux
    - sh
    - systemd
    - test
    - tor-hardening
    - zstd
  packages:
  - net-vpn/tor
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - selinux
    - sh
    enabled:
    - gnutls
    - resolvconf
  packages:
  - net-vpn/vpnc
- tree: packages/atoms/server
  uses:
    disabled:
    - nios2
    - python_targets_pypy3
    - python_targets_python3_8
    - python_targets_python3_9
    - sh
    enabled:
    - python_targets_python2_7
    - python_targets_python3_7
  packages:
  - dev-python/markdown
- tree: packages/atoms/server
  uses:
    disabled:
    - boost
    - debug
    - doc
    - nios2
    - sh
    enabled:
    - dbus
    - pam
    - ssl
  packages:
  - net-libs/wvstreams
- tree: packages/atoms/server
  mutations:
    buildtime_deps:
      packages:
        - category: seed
          name: macaroni-funtoo-race3
  uses:
    disabled:
    - debug
    - embedded
    - nios2
    - obsolete
    - sh
    enabled:
    - syslog
  packages:
  - net-misc/ntpclient


- tree: packages/atoms/server
  uses:
    disabled:
    - debug
    - embedded
    - nios2
    - obsolete
    - sh
  packages:
  - net-misc/netkit-telnetd:0
  - net-analyzer/openbsd-netcat:0
- tree: packages/atoms/server
  uses:
    disabled:
    - custom-cflags
    - debug
    - kernel-builtin
    - libressl
    - minimal
    - nios2
    - python_targets_python3_8
    - python_targets_python3_9
    - sh
    - static-libs
    - test-suite
    enabled:
    - nls
    - pam
    - python
    - python_targets_python3_7
    - rootfs
    - split-usr
  packages:
  - sys-fs/zfs

- tree: packages/atoms/server
  mutations:
    buildtime_deps:
      packages:
        - category: seed
          name: macaroni-funtoo-race3
  uses:
    disabled:
    - python_targets_python3_8
    - python_targets_python3_9
    enabled:
    - python_targets_python3_7
  packages:
  - virtual/python-cffi

- tree: packages/atoms/server
  mutations:
    buildtime_deps:
      packages:
        - category: seed
          name: macaroni-funtoo-race3
  uses:
    disabled:
    - nios2
    - sh
    - static-libs
    - test
  packages:
  - virtual/logger
  - virtual/perl-Sys-Syslog
  - virtual/perl-Term-ANSIColor
  - virtual/resolvconf
  - app-eselect/eselect-postgresql
  - sys-kernel/dummy-sources
